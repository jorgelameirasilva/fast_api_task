<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1788.6015625 3851.71875" style="max-width: 1788.6px; background-color: transparent;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#a44141;}#my-svg .error-text{fill:#ddd;stroke:#ddd;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:lightgrey;stroke:lightgrey;}#my-svg .marker.cross{stroke:lightgrey;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#my-svg .cluster-label text{fill:#F9FFFE;}#my-svg .cluster-label span{color:#F9FFFE;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#ccc;color:#ccc;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#my-svg .arrowheadPath{fill:lightgrey;}#my-svg .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:lightgrey;fill:none;}#my-svg .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#my-svg .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#my-svg .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#my-svg .cluster text{fill:#F9FFFE;}#my-svg .cluster span{color:#F9FFFE;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph0" class="cluster"><rect height="448" width="640" y="3083.71875" x="1139.26171875" style=""/><g transform="translate(1390.62890625, 3083.71875)" class="cluster-label"><foreignObject height="24" width="137.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Database Structure</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M1381.152,176L1381.152,195.167C1381.152,214.333,1381.152,252.667,1381.152,275.333C1381.152,298,1381.152,305,1381.152,308.5L1381.152,312"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M1381.152,370L1381.152,374.167C1381.152,378.333,1381.152,386.667,1381.152,394.333C1381.152,402,1381.152,409,1381.152,412.5L1381.152,416"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_0" d="M1381.152,474L1381.152,478.167C1381.152,482.333,1381.152,490.667,1381.152,498.333C1381.152,506,1381.152,513,1381.152,516.5L1381.152,520"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_0" d="M1381.152,578L1381.152,582.167C1381.152,586.333,1381.152,594.667,1381.152,602.333C1381.152,610,1381.152,617,1381.152,620.5L1381.152,624"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_0" d="M1381.152,682L1381.152,686.167C1381.152,690.333,1381.152,698.667,1381.152,706.333C1381.152,714,1381.152,721,1381.152,724.5L1381.152,728"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_0" d="M1381.152,786L1381.152,790.167C1381.152,794.333,1381.152,802.667,1381.152,810.333C1381.152,818,1381.152,825,1381.152,828.5L1381.152,832"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_0" d="M1381.152,890L1381.152,894.167C1381.152,898.333,1381.152,906.667,1381.152,914.333C1381.152,922,1381.152,929,1381.152,932.5L1381.152,936"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_0" d="M1381.152,994L1381.152,998.167C1381.152,1002.333,1381.152,1010.667,1381.223,1018.417C1381.293,1026.167,1381.433,1033.334,1381.504,1036.917L1381.574,1040.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_0" d="M1340.019,1200.586L1330.401,1213.608C1320.784,1226.63,1301.548,1252.674,1291.93,1271.197C1282.313,1289.719,1282.313,1300.719,1282.313,1306.219L1282.313,1311.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_K_0" d="M1447.374,1176.497L1481.245,1193.534C1515.117,1210.571,1582.859,1244.645,1616.73,1272.348C1650.602,1300.052,1650.602,1321.385,1650.602,1342.719C1650.602,1364.052,1650.602,1385.385,1650.602,1408.719C1650.602,1432.052,1650.602,1457.385,1650.602,1480.719C1650.602,1504.052,1650.602,1525.385,1650.602,1539.552C1650.602,1553.719,1650.602,1560.719,1650.602,1564.219L1650.602,1567.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_L_0" d="M1282.313,1369.719L1282.313,1375.885C1282.313,1382.052,1282.313,1394.385,1282.313,1406.052C1282.313,1417.719,1282.313,1428.719,1282.313,1434.219L1282.313,1439.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_M_0" d="M1230.758,1521.719L1225.251,1525.885C1219.743,1530.052,1208.727,1538.385,1203.219,1546.052C1197.711,1553.719,1197.711,1560.719,1197.711,1564.219L1197.711,1567.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_N_0" d="M1197.711,1649.719L1197.711,1653.885C1197.711,1658.052,1197.711,1666.385,1197.711,1674.052C1197.711,1681.719,1197.711,1688.719,1197.711,1692.219L1197.711,1695.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_N_0" d="M1650.602,1649.719L1650.602,1653.885C1650.602,1658.052,1650.602,1666.385,1597.447,1678.064C1544.292,1689.742,1437.982,1704.765,1384.827,1712.277L1331.672,1719.788"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_N_O_0" d="M1197.711,1777.719L1197.711,1781.885C1197.711,1786.052,1197.711,1794.385,1197.711,1802.052C1197.711,1809.719,1197.711,1816.719,1197.711,1820.219L1197.711,1823.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_O_P_0" d="M1197.711,1905.719L1197.711,1909.885C1197.711,1914.052,1197.711,1922.385,1197.711,1930.052C1197.711,1937.719,1197.711,1944.719,1197.711,1948.219L1197.711,1951.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_P_Q_0" d="M1197.711,2033.719L1197.711,2037.885C1197.711,2042.052,1197.711,2050.385,1197.711,2058.052C1197.711,2065.719,1197.711,2072.719,1197.711,2076.219L1197.711,2079.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q_R_0" d="M1116.726,2161.719L1108.074,2165.885C1099.421,2170.052,1082.117,2178.385,1073.465,2186.052C1064.813,2193.719,1064.813,2200.719,1064.813,2204.219L1064.813,2207.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_S_0" d="M1064.813,2289.719L1064.813,2293.885C1064.813,2298.052,1064.813,2306.385,1064.813,2314.052C1064.813,2321.719,1064.813,2328.719,1064.813,2332.219L1064.813,2335.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_S_T_0" d="M1064.813,2417.719L1064.813,2421.885C1064.813,2426.052,1064.813,2434.385,1064.813,2442.052C1064.813,2449.719,1064.813,2456.719,1064.813,2460.219L1064.813,2463.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_T_U_0" d="M1064.813,2521.719L1064.813,2525.885C1064.813,2530.052,1064.813,2538.385,1064.813,2546.052C1064.813,2553.719,1064.813,2560.719,1064.813,2564.219L1064.813,2567.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_U_V_0" d="M1064.813,2649.719L1064.813,2653.885C1064.813,2658.052,1064.813,2666.385,1064.813,2674.052C1064.813,2681.719,1064.813,2688.719,1064.813,2692.219L1064.813,2695.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_V_W_0" d="M1064.813,2777.719L1064.813,2781.885C1064.813,2786.052,1064.813,2794.385,1064.813,2802.052C1064.813,2809.719,1064.813,2816.719,1064.813,2820.219L1064.813,2823.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_W_X_0" d="M1064.813,2905.719L1064.813,2909.885C1064.813,2914.052,1064.813,2922.385,1064.813,2930.052C1064.813,2937.719,1064.813,2944.719,1064.813,2948.219L1064.813,2951.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_X_Y_0" d="M995.07,3033.719L987.619,3037.885C980.168,3042.052,965.266,3050.385,957.814,3058.719C950.363,3067.052,950.363,3075.385,950.363,3085.052C950.363,3094.719,950.363,3105.719,950.363,3111.219L950.363,3116.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Y_Z_0" d="M950.363,3174.719L950.363,3180.885C950.363,3187.052,950.363,3199.385,950.363,3227.052C950.363,3254.719,950.363,3297.719,950.363,3319.219L950.363,3340.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Z_AA_0" d="M950.363,3398.719L950.363,3420.885C950.363,3443.052,950.363,3487.385,950.363,3513.719C950.363,3540.052,950.363,3548.385,950.363,3556.052C950.363,3563.719,950.363,3570.719,950.363,3574.219L950.363,3577.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AA_BB_0" d="M950.363,3635.719L950.363,3639.885C950.363,3644.052,950.363,3652.385,950.363,3660.052C950.363,3667.719,950.363,3674.719,950.363,3678.219L950.363,3681.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BB_CC_0" d="M950.363,3739.719L950.363,3743.885C950.363,3748.052,950.363,3756.385,950.363,3764.052C950.363,3771.719,950.363,3778.719,950.363,3782.219L950.363,3785.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DD_EE_0" d="M1364.809,3186.719L1354.717,3190.885C1344.626,3195.052,1324.444,3203.385,1314.353,3211.052C1304.262,3218.719,1304.262,3225.719,1304.262,3229.219L1304.262,3232.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DD_FF_0" d="M1553.715,3186.719L1563.806,3190.885C1573.897,3195.052,1594.079,3203.385,1604.171,3211.052C1614.262,3218.719,1614.262,3225.719,1614.262,3229.219L1614.262,3232.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q_DD_0" d="M1305.539,2161.719L1317.059,2165.885C1328.58,2170.052,1351.62,2178.385,1363.14,2193.219C1374.66,2208.052,1374.66,2229.385,1374.66,2250.719C1374.66,2272.052,1374.66,2293.385,1374.66,2314.719C1374.66,2336.052,1374.66,2357.385,1374.66,2378.719C1374.66,2400.052,1374.66,2421.385,1374.66,2440.719C1374.66,2460.052,1374.66,2477.385,1374.66,2494.719C1374.66,2512.052,1374.66,2529.385,1374.66,2548.719C1374.66,2568.052,1374.66,2589.385,1374.66,2610.719C1374.66,2632.052,1374.66,2653.385,1374.66,2674.719C1374.66,2696.052,1374.66,2717.385,1374.66,2738.719C1374.66,2760.052,1374.66,2781.385,1374.66,2802.719C1374.66,2824.052,1374.66,2845.385,1374.66,2866.719C1374.66,2888.052,1374.66,2909.385,1374.66,2930.719C1374.66,2952.052,1374.66,2973.385,1374.66,2994.719C1374.66,3016.052,1374.66,3037.385,1374.66,3052.219C1374.66,3067.052,1374.66,3075.385,1379.636,3083.317C1384.613,3091.248,1394.565,3098.777,1399.541,3102.541L1404.518,3106.306"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_X_DD_0" d="M1166.547,3033.719L1177.416,3037.885C1188.285,3042.052,1210.024,3050.385,1220.893,3058.719C1231.762,3067.052,1231.762,3075.385,1247.37,3083.943C1262.978,3092.501,1294.195,3101.282,1309.803,3105.673L1325.411,3110.064"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_DD_0" d="M1396.235,1521.719L1408.406,1525.885C1420.577,1530.052,1444.919,1538.385,1457.091,1553.219C1469.262,1568.052,1469.262,1589.385,1469.262,1610.719C1469.262,1632.052,1469.262,1653.385,1469.262,1674.719C1469.262,1696.052,1469.262,1717.385,1469.262,1738.719C1469.262,1760.052,1469.262,1781.385,1469.262,1802.719C1469.262,1824.052,1469.262,1845.385,1469.262,1866.719C1469.262,1888.052,1469.262,1909.385,1469.262,1930.719C1469.262,1952.052,1469.262,1973.385,1469.262,1994.719C1469.262,2016.052,1469.262,2037.385,1469.262,2058.719C1469.262,2080.052,1469.262,2101.385,1469.262,2122.719C1469.262,2144.052,1469.262,2165.385,1469.262,2186.719C1469.262,2208.052,1469.262,2229.385,1469.262,2250.719C1469.262,2272.052,1469.262,2293.385,1469.262,2314.719C1469.262,2336.052,1469.262,2357.385,1469.262,2378.719C1469.262,2400.052,1469.262,2421.385,1469.262,2440.719C1469.262,2460.052,1469.262,2477.385,1469.262,2494.719C1469.262,2512.052,1469.262,2529.385,1469.262,2548.719C1469.262,2568.052,1469.262,2589.385,1469.262,2610.719C1469.262,2632.052,1469.262,2653.385,1469.262,2674.719C1469.262,2696.052,1469.262,2717.385,1469.262,2738.719C1469.262,2760.052,1469.262,2781.385,1469.262,2802.719C1469.262,2824.052,1469.262,2845.385,1469.262,2866.719C1469.262,2888.052,1469.262,2909.385,1469.262,2930.719C1469.262,2952.052,1469.262,2973.385,1469.262,2994.719C1469.262,3016.052,1469.262,3037.385,1469.262,3052.219C1469.262,3067.052,1469.262,3075.385,1468.714,3083.06C1468.165,3090.735,1467.069,3097.751,1466.521,3101.259L1465.973,3104.767"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1282.3125, 1278.71875)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(1650.6015625, 1406.71875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="258" width="1193.15234375" y="8" x="8" style=""/><g transform="translate(545.513671875, 8)" class="cluster-label"><foreignObject height="24" width="118.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Key Components</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GG_HH_0" d="M190.926,99.5L179.509,105.75C168.093,112,145.259,124.5,133.842,136.333C122.426,148.167,122.426,159.333,122.426,164.917L122.426,170.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GG_II_0" d="M289.566,99.5L300.983,105.75C312.4,112,335.233,124.5,346.65,136.333C358.066,148.167,358.066,159.333,358.066,164.917L358.066,170.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_JJ_KK_0" d="M592.895,99.5L592.895,105.75C592.895,112,592.895,124.5,592.895,136.333C592.895,148.167,592.895,159.333,592.895,164.917L592.895,170.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LL_MM_0" d="M899.341,99.5L887.333,105.75C875.325,112,851.309,124.5,839.301,136.333C827.293,148.167,827.293,159.333,827.293,164.917L827.293,170.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LL_NN_0" d="M1003.089,99.5L1015.097,105.75C1027.105,112,1051.121,124.5,1063.129,136.333C1075.137,148.167,1075.137,159.333,1075.137,164.917L1075.137,170.5"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(240.24609375, 72.5)" id="flowchart-GG-63" class="node default"><rect height="54" width="162.953125" y="-27" x="-81.4765625" style="" class="basic label-container"/><g transform="translate(-51.4765625, -12)" style="" class="label"><rect/><foreignObject height="24" width="102.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SessionService</p></span></div></foreignObject></g></g><g transform="translate(122.42578125, 201.5)" id="flowchart-HH-65" class="node default"><rect height="54" width="154.75" y="-27" x="-77.375" style="" class="basic label-container"/><g transform="translate(-47.375, -12)" style="" class="label"><rect/><foreignObject height="24" width="94.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>add_message</p></span></div></foreignObject></g></g><g transform="translate(358.06640625, 201.5)" id="flowchart-II-67" class="node default"><rect height="54" width="216.53125" y="-27" x="-108.265625" style="" class="basic label-container"/><g transform="translate(-78.265625, -12)" style="" class="label"><rect/><foreignObject height="24" width="156.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>get_session_messages</p></span></div></foreignObject></g></g><g transform="translate(592.89453125, 72.5)" id="flowchart-JJ-68" class="node default"><rect height="54" width="144.75" y="-27" x="-72.375" style="" class="basic label-container"/><g transform="translate(-42.375, -12)" style="" class="label"><rect/><foreignObject height="24" width="84.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ChatService</p></span></div></foreignObject></g></g><g transform="translate(592.89453125, 201.5)" id="flowchart-KK-70" class="node default"><rect height="54" width="153.125" y="-27" x="-76.5625" style="" class="basic label-container"/><g transform="translate(-46.5625, -12)" style="" class="label"><rect/><foreignObject height="24" width="93.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>process_chat</p></span></div></foreignObject></g></g><g transform="translate(951.21484375, 72.5)" id="flowchart-LL-71" class="node default"><rect height="54" width="184.046875" y="-27" x="-92.0234375" style="" class="basic label-container"/><g transform="translate(-62.0234375, -12)" style="" class="label"><rect/><foreignObject height="24" width="124.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ChatOrchestrator</p></span></div></foreignObject></g></g><g transform="translate(827.29296875, 201.5)" id="flowchart-MM-73" class="node default"><rect height="54" width="215.671875" y="-27" x="-107.8359375" style="" class="basic label-container"/><g transform="translate(-77.8359375, -12)" style="" class="label"><rect/><foreignObject height="24" width="155.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>process_chat_request</p></span></div></foreignObject></g></g><g transform="translate(1075.13671875, 201.5)" id="flowchart-NN-75" class="node default"><rect height="54" width="180.015625" y="-27" x="-90.0078125" style="" class="basic label-container"/><g transform="translate(-60.0078125, -12)" style="" class="label"><rect/><foreignObject height="24" width="120.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>format_response</p></span></div></foreignObject></g></g></g></g><g transform="translate(1381.15234375, 137)" id="flowchart-A-0" class="node default"><rect height="78" width="260" y="-39" x="-130" style="fill:#e1f5fe !important" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>User sends POST /chat request</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 343)" id="flowchart-B-1" class="node default"><rect height="54" width="164.546875" y="-27" x="-82.2734375" style="" class="basic label-container"/><g transform="translate(-52.2734375, -12)" style="" class="label"><rect/><foreignObject height="24" width="104.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>FastAPI Router</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 447)" id="flowchart-C-3" class="node default"><rect height="54" width="253.46875" y="-27" x="-126.734375" style="" class="basic label-container"/><g transform="translate(-96.734375, -12)" style="" class="label"><rect/><foreignObject height="24" width="193.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Authentication Middleware</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 551)" id="flowchart-D-5" class="node default"><rect height="54" width="182.96875" y="-27" x="-91.484375" style="" class="basic label-container"/><g transform="translate(-61.484375, -12)" style="" class="label"><rect/><foreignObject height="24" width="122.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>get_current_user</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 655)" id="flowchart-E-7" class="node default"><rect height="54" width="199.96875" y="-27" x="-99.984375" style="" class="basic label-container"/><g transform="translate(-69.984375, -12)" style="" class="label"><rect/><foreignObject height="24" width="139.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Chat Route Handler</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 759)" id="flowchart-F-9" class="node default"><rect height="54" width="343.453125" y="-27" x="-171.7265625" style="" class="basic label-container"/><g transform="translate(-141.7265625, -12)" style="" class="label"><rect/><foreignObject height="24" width="283.453125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ChatOrchestrator.process_chat_request</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 863)" id="flowchart-G-11" class="node default"><rect height="54" width="176.53125" y="-27" x="-88.265625" style="" class="basic label-container"/><g transform="translate(-58.265625, -12)" style="" class="label"><rect/><foreignObject height="24" width="116.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Prepare Context</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 967)" id="flowchart-H-13" class="node default"><rect height="54" width="243.75" y="-27" x="-121.875" style="" class="basic label-container"/><g transform="translate(-91.875, -12)" style="" class="label"><rect/><foreignObject height="24" width="183.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ChatService.process_chat</p></span></div></foreignObject></g></g><g transform="translate(1381.15234375, 1142.859375)" id="flowchart-I-15" class="node default"><polygon transform="translate(-98.859375,98.859375)" class="label-container" points="98.859375,0 197.71875,-98.859375 98.859375,-197.71875 0,-98.859375"/><g transform="translate(-71.859375, -12)" style="" class="label"><rect/><foreignObject height="24" width="143.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Session ID provided?</p></span></div></foreignObject></g></g><g transform="translate(1282.3125, 1342.71875)" id="flowchart-J-17" class="node default"><rect height="54" width="325.359375" y="-27" x="-162.6796875" style="" class="basic label-container"/><g transform="translate(-132.6796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="265.359375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SessionService.get_session_messages</p></span></div></foreignObject></g></g><g transform="translate(1650.6015625, 1610.71875)" id="flowchart-K-19" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Generate new UUID session_id</p></span></div></foreignObject></g></g><g transform="translate(1282.3125, 1482.71875)" id="flowchart-L-21" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Load conversation history from DB</p></span></div></foreignObject></g></g><g transform="translate(1197.7109375, 1610.71875)" id="flowchart-M-23" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Convert DB messages to chat format</p></span></div></foreignObject></g></g><g transform="translate(1197.7109375, 1738.71875)" id="flowchart-N-25" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Build conversation_history array</p></span></div></foreignObject></g></g><g transform="translate(1197.7109375, 1866.71875)" id="flowchart-O-29" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Add current user message to conversation</p></span></div></foreignObject></g></g><g transform="translate(1197.7109375, 1994.71875)" id="flowchart-P-31" class="node default"><rect height="78" width="268.40625" y="-39" x="-134.203125" style="" class="basic label-container"/><g transform="translate(-104.203125, -24)" style="" class="label"><rect/><foreignObject height="48" width="208.40625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SessionService.add_message - Save user message</p></span></div></foreignObject></g></g><g transform="translate(1197.7109375, 2122.71875)" id="flowchart-Q-33" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MongoDB: Insert user message document</p></span></div></foreignObject></g></g><g transform="translate(1064.8125, 2250.71875)" id="flowchart-R-35" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Get chat approach from setup</p></span></div></foreignObject></g></g><g transform="translate(1064.8125, 2378.71875)" id="flowchart-S-37" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>chat_approach.run with full conversation history</p></span></div></foreignObject></g></g><g transform="translate(1064.8125, 2494.71875)" id="flowchart-T-39" class="node default"><rect height="54" width="166.296875" y="-27" x="-83.1484375" style="fill:#f3e5f5 !important" class="basic label-container"/><g transform="translate(-53.1484375, -12)" style="" class="label"><rect/><foreignObject height="24" width="106.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LLM Processing</p></span></div></foreignObject></g></g><g transform="translate(1064.8125, 2610.71875)" id="flowchart-U-41" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Generate assistant response</p></span></div></foreignObject></g></g><g transform="translate(1064.8125, 2738.71875)" id="flowchart-V-43" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Extract assistant message from result</p></span></div></foreignObject></g></g><g transform="translate(1064.8125, 2866.71875)" id="flowchart-W-45" class="node default"><rect height="78" width="268.40625" y="-39" x="-134.203125" style="" class="basic label-container"/><g transform="translate(-104.203125, -24)" style="" class="label"><rect/><foreignObject height="48" width="208.40625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SessionService.add_message - Save assistant message</p></span></div></foreignObject></g></g><g transform="translate(1064.8125, 2994.71875)" id="flowchart-X-47" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MongoDB: Insert assistant message document</p></span></div></foreignObject></g></g><g transform="translate(950.36328125, 3147.71875)" id="flowchart-Y-49" class="node default"><rect height="54" width="251.4375" y="-27" x="-125.71875" style="" class="basic label-container"/><g transform="translate(-95.71875, -12)" style="" class="label"><rect/><foreignObject height="24" width="191.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Add session_id to response</p></span></div></foreignObject></g></g><g transform="translate(950.36328125, 3371.71875)" id="flowchart-Z-51" class="node default"><rect height="54" width="307.796875" y="-27" x="-153.8984375" style="" class="basic label-container"/><g transform="translate(-123.8984375, -12)" style="" class="label"><rect/><foreignObject height="24" width="247.796875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ChatOrchestrator.format_response</p></span></div></foreignObject></g></g><g transform="translate(950.36328125, 3608.71875)" id="flowchart-AA-53" class="node default"><rect height="54" width="250.5" y="-27" x="-125.25" style="" class="basic label-container"/><g transform="translate(-95.25, -12)" style="" class="label"><rect/><foreignObject height="24" width="190.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Convert to NDJSON format</p></span></div></foreignObject></g></g><g transform="translate(950.36328125, 3712.71875)" id="flowchart-BB-55" class="node default"><rect height="54" width="197.328125" y="-27" x="-98.6640625" style="" class="basic label-container"/><g transform="translate(-68.6640625, -12)" style="" class="label"><rect/><foreignObject height="24" width="137.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StreamingResponse</p></span></div></foreignObject></g></g><g transform="translate(950.36328125, 3816.71875)" id="flowchart-CC-57" class="node default"><rect height="54" width="162.171875" y="-27" x="-81.0859375" style="fill:#e8f5e8 !important" class="basic label-container"/><g transform="translate(-51.0859375, -12)" style="" class="label"><rect/><foreignObject height="24" width="102.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return to user</p></span></div></foreignObject></g></g><g transform="translate(1459.26171875, 3147.71875)" id="flowchart-DD-58" class="node default"><rect height="78" width="260" y="-39" x="-130" style="fill:#fff3e0 !important" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MongoDB Collection: sessions</p></span></div></foreignObject></g></g><g transform="translate(1304.26171875, 3371.71875)" id="flowchart-EE-60" class="node default"><rect height="270" width="260" y="-135" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -120)" style="" class="label"><rect/><foreignObject height="240" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Document 1:<br />{<br />  _id: 'msg-uuid-1',<br />  user_id: 'user123',<br />  session_id: 'session-uuid',<br />  message: {role: 'user', content: '...'},<br />  created_at: '2024-01-01T10:00:00Z'<br />}</p></span></div></foreignObject></g></g><g transform="translate(1614.26171875, 3371.71875)" id="flowchart-FF-62" class="node default"><rect height="270" width="260" y="-135" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -120)" style="" class="label"><rect/><foreignObject height="240" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Document 2:<br />{<br />  _id: 'msg-uuid-2',<br />  user_id: 'user123',<br />  session_id: 'session-uuid',<br />  message: {role: 'assistant', content: '...'},<br />  created_at: '2024-01-01T10:01:00Z'<br />}</p></span></div></foreignObject></g></g></g></g></g></svg>